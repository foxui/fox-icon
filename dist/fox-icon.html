<link rel="stylesheet" href="css/fox-icon.css"/>

<fox-element name="fox-icon" attributes="icon">
    <script>

    (function(env){
        var fox = env.fox;

        function setIconClass() {

            if (!this.icon) {
                return;
            }

            var iconComposites = this.icon.split('-');

            if (iconComposites.length > 1) {
                this.iconFamily = iconComposites[0]
            }

            this.classList.add(this.iconFamily);
            this.classList.add(this.icon);
        }


        fox('fox-icon', {
            lifecycle: {

                created: function() {

                },

                inserted: function() {
                    // e.g: icon-back / fa-back
                    setIconClass.call(this);
                },

                iconChanged: function(oldVal, newVal) {
                    // reset old
                    this.iconFamily && this.classList.remove(this.iconFamily);
                    oldVal && this.classList.remove(oldVal);

                    setIconClass.call(this);
                }
            }
        });
    })(this);
    </script>
</fox-element>
